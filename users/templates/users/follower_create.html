{% extends 'users/base.html' %}
{% block title %}
        Follow        
{% endblock %} 
{% block body %}
  <div class="container mx-auto px-4">
    <h1 class="text-2xl font-bold mb-4">List of Users you are follow</h1>
    <div class="overflow-y-auto max-h-80">
      <ul class="divide-y divide-gray-200">
        {% for user in users_with_profiles %}
          <li class="py-2">
            <div class="flex items-center">
              <div class="ml-2">
                <strong>{{ user.username }}</strong> - {{ user.profile.photo }}
                <!-- Hier kÃ¶nnten weitere Informationen angezeigt werden -->
              </div>
              {% if user != request.user %}
                {% if user in request.user.profile.follow.all %}
                  <form method="post" action="{% url 'friends_delete' user.id %}" class="ml-auto">
                    {% csrf_token %}
                    <button type="submit" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Unfollow</button>
                  </form>
                {% else %}
                  <form method="post" action="{% url 'follower_create' user.id %}" class="ml-auto">
                    {% csrf_token %}
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Follow User</button>
                  </form>
                {% endif %}
              {% endif %}
            </div>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}